{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_amplifier/widget/amplifier-user-goal

    A learning goal with reminder settings and reflective questions

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * amplifiergoalid
    * topicid
    * goalid
    * topictitle
    * goaltitle
    * reflectivequestions
    * amplifier_submit_reflections_headline
    * amplifier_submit_text_2
    * amplifiergoalid
    * amplifier_button_submit
    * reminderstartdate-day
    * reminderstartdate-month
    * reminderstartdate-year
    * reminderstartdate-hour
    * reminderstartdate-minute
    * reminderenddate-day
    * reminderenddate-month
    * reminderenddate-year
    * reminderenddate-hour
    * reminderenddate-minute
    * reminderhour
    * reminderminute
    * amplifier_reminder_settings_headline
    * amplifier_reminder_frequency_daily
    * amplifier_reminder_frequency_weekly
    * amplifier_reminder_frequency_monthly
    * amplifier_reminder_settings_startdate_label
    * amplifier_reminder_settings_enddate_label
    * amplifier_reminder_settings_time_label
    * amplifier_reminder_settings_month1_label
    * amplifier_reminder_settings_month2_label
    * amplifier_reminder_settings_month3_label
    * amplifier_reminder_settings_month4_label
    * amplifier_reminder_settings_month5_label
    * amplifier_reminder_settings_month6_label
    * amplifier_reminder_settings_month7_label
    * amplifier_reminder_settings_month8_label
    * amplifier_reminder_settings_month9_label
    * amplifier_reminder_settings_month10_label
    * amplifier_reminder_settings_month11_label
    * amplifier_reminder_settings_month12_label
    * amplifiergoalid
    * amplifier_button_submit_reflection

    Example context (json):
    {
        "amplifiergoalid": "1",
        "topicid": "1",
        "goalid": "1",
        "topictitle": "Themenbereich Titel",
        "amplifier_submit_reflections_headline": "Reflexion",
        "goaltitle": "Lernziel Titel",
        "reminderfrequency": "0",
        "reminderstartdate-day": "10",
        "reminderstartdate-month": "01",
        "reminderstartdate-year": "2023",
        "reminderstartdate-hour": "08",
        "reminderstartdate-minute": "00",
        "reminderenddate-day": "18",
        "reminderenddate-month": "01",
        "reminderenddate-year": "2023",
        "reminderenddate-hour": "08",
        "reminderenddate-minute": "00",
        "reminderhour": "08",
        "reminderminute": "15",
        "amplifier_reminder_settings_headline": "Erinnerungseinstellungen",
        "amplifier_reminder_frequency_daily": "Täglich",
        "amplifier_reminder_frequency_weekly": "Wöchentlich",
        "amplifier_reminder_frequency_monthly": "Montalich",
        "amplifier_reminder_settings_startdate_label": "Startdatum",
        "amplifier_reminder_settings_enddate_label": "Enddatum",
        "amplifier_reminder_settings_time_label": "Erinnerungszeit",
        "amplifier_reminder_settings_month1_label": "Jänner",
        "amplifier_reminder_settings_month2_label": "Februar",
        "amplifier_reminder_settings_month3_label": "März",
        "amplifier_reminder_settings_month4_label": "April",
        "amplifier_reminder_settings_month5_label": "Mai",
        "amplifier_reminder_settings_month6_label": "Juni",
        "amplifier_reminder_settings_month7_label": "Juli",
        "amplifier_reminder_settings_month8_label": "August",
        "amplifier_reminder_settings_month9_label": "September",
        "amplifier_reminder_settings_month10_label": "Oktober",
        "amplifier_reminder_settings_month11_label": "November",
        "amplifier_reminder_settings_month12_label": "Dezember",
        "amplifiergoalid": "1",
        "amplifier_button_submit_reflection": "Speichern",
        "reflectivequestions": "<fieldset> <h3 class='fs-subtitle'>Reflection</h3> <div class='form-group text-left'> <label class='col-form-label d-inline'></label> </div><div class='amplifier-questiontext'> <p>Würden Sie sagen, Sie haben das Lernziel erreicht? Wenn ja, was haben Sie gelernt? Wenn nein, was hat Sie daran gehindert?</p></div><div class='amplifier-user-response'> <textarea placeholder='My thoughts...' rows='5' data-topicid='3' data-goalid='7' class='col p-0 amplifier-user-response-input'></textarea> </div><input type='button' name='next' class='next action-button reflective-question' value='Next'></fieldset><fieldset class='d-none'> <h3 class='fs-subtitle'>Reflection</h3> <div class='form-group text-left'> <label class='col-form-label d-inline'></label> </div><div class='amplifier-questiontext'> <p>Konnten Sie eine Veränderung - im Positiven oder Negativen - in Ihrem beruflichen oder privaten Umfeld feststellen?</p></div><div class='amplifier-user-response'> <textarea placeholder='My thoughts...' rows='5' data-topicid='3' data-goalid='8' class='col p-0 amplifier-user-response-input'></textarea> </div><input type='button' name='next' class='next action-button reflective-question' value='Next'></fieldset><fieldset class='d-none'> <h3 class='fs-subtitle'>Reflection</h3> <div class='form-group text-left'> <label class='col-form-label d-inline'></label> </div><div class='amplifier-questiontext'> <p>Wie denken Sie jetzt über das Lernziel?</p></div><div class='amplifier-user-response'> <textarea placeholder='My thoughts...' rows='5' data-topicid='3' data-goalid='9' class='col p-0 amplifier-user-response-input'></textarea> </div><input type='button' name='next' class='next action-button reflective-question' value='Next'></fieldset><fieldset class='d-none'> <h3 class='fs-subtitle'>Reflection</h3> <div class='form-group text-left'> <label class='col-form-label d-inline '>Please click on 'Save' to finish your reflecion session.</label> </div><input data-goalid='3' type='submit' name='submit' class='submit action-button reflection-submit amplifier-submit-setup' value='Save'></fieldset>",
        "amplifier_submit_reflections_headline": "Reflexion",
        "amplifier_submit_text_2": "Bitte klicken Sie auf 'Speichern' um die Reflexion abzuschließen.",
        "amplifiergoalid": "1",
        "amplifier_button_submit": "Speichern"
    }
}}
<div id="amplifier-user-goal-{{{amplifiergoalid}}}" class="topic-card">

    {{! Topic }}
    <div class="topic-card-header">
        <div class="mb-0">
            <div class="d-flex flex-column">

                <div class="d-flex flex-row align-items-center ml-0 mb-2 flex-nowrap">

                    {{! Thumbnail }}
                    <div class="topic-thumbnail">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,10.84 21.79,9.69 21.39,8.61L19.79,10.21C19.93,10.8 20,11.4 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.6,4 13.2,4.07 13.79,4.21L15.4,2.6C14.31,2.21 13.16,2 12,2M19,2L15,6V7.5L12.45,10.05C12.3,10 12.15,10 12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12C14,11.85 14,11.7 13.95,11.55L16.5,9H18L22,5H19V2M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12H16A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8V6Z" /></svg>
                    </div>

                    {{! Data }}
                    <div class="d-flex flex-row flex-grow-1 ml-2 topic-data">
                        <span class="text-wrap topic-title h3">{{{topictitle}}} - {{{goaltitle}}}</span>
                    </div>

                    {{! Actions }}
                    <div class="topic-actions">
                        <div class="d-flex flex-row align-items-center ml-0 mb-2 flex-nowrap">
                            <div class="reminder-dropdown-toggle" data-target="user-goal-reminder-{{{topicid}}}-{{{goalid}}}" >
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 11H9V13H7V11M21 5V19C21 20.11 20.11 21 19 21H5C3.89 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H6V1H8V3H16V1H18V3H19C20.11 3 21 3.9 21 5M5 7H19V5H5V7M19 19V9H5V19H19M15 13V11H17V13H15M11 13V11H13V13H11M7 15H9V17H7V15M15 17V15H17V17H15M11 17V15H13V17H11Z" /></svg>
                            </div>
                            <div class="reflection-dropdown-toggle" data-target="user-goal-reflection-{{{topicid}}}-{{{goalid}}}">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 3C16.9 3 20 6.1 20 10C20 12.8 18.4 15.2 16 16.3V21H9V18H8C6.9 18 6 17.1 6 16V13H4.5C4.1 13 3.8 12.5 4.1 12.2L6 9.7C6.2 5.9 9.2 3 13 3M13 1C8.4 1 4.6 4.4 4.1 8.9L2.5 11C1.9 11.8 1.9 12.8 2.3 13.6C2.7 14.3 3.3 14.8 4 14.9V16C4 17.9 5.3 19.4 7 19.9V23H18V17.5C20.5 15.8 22 13.1 22 10C22 5 18 1 13 1M10 10C9.4 10 9 9.6 9 9S9.4 8 10 8 11 8.4 11 9 10.6 10 10 10M13 10C12.4 10 12 9.6 12 9S12.4 8 13 8 14 8.4 14 9 13.6 10 13 10M16 10C15.5 10 15 9.6 15 9S15.5 8 16 8 17 8.4 17 9 16.5 10 16 10Z" /></svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="user-goal-reminder-{{{topicid}}}-{{{goalid}}}" class="d-none">

        {{> mod_amplifier/widget/amplifier-user-goal-reminder }}

    </div>
    <div id="user-goal-reflection-{{{topicid}}}-{{{goalid}}}" class="d-none">

        {{> mod_amplifier/widget/amplifier-user-goal-reflection }}

    </div>
</div>