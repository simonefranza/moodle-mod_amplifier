{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_amplifier/widget/amplifier-setup

    Setting up the training amplifier (intro, participant code, learning goal selection, first reflection session)

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * amplifier_setup_finished
    * amplifier_welcome_headline
    * amplifier_welcome_text_1
    * amplifier_welcome_text_2
    * amplifier_welcome_text_3
    * amplifier_button_next
    * amplifier_setup_participantcode_headline
    * amplifier_setup_participantcode_description
    * amplifier_setup_participantcode_input_label
    * reflective_question_fieldsets
    * learning_goal_selection_fieldset
    * amplifier_setup_submit_headline
    * amplifier_setup_submit_text_1
    * amplifier_button_previous
    * amplifier_button_submit
    * courseId
    * courseModuleId
    * instanceId
    * userId

    Example context (json):
    {
        "amplifier_setup_finished": "false",
        "amplifier_welcome_headline": "Willkommen beim Training Amplifier",
        "amplifier_welcome_text_1": "Training Amplifier soll Sie unterstützen, neuerworbenes theoretisches Wissen in der Praxis anzuwenden.",
        "amplifier_welcome_text_2": "Im ersten Schritt denken Sie bitte über die für Sie wichtigsten Themen der gerade absolvierten Lehrveranstaltung nach.",
        "amplifier_welcome_text_3": "Im zweiten Schritt wählen Sie Lernziele aus, die Sie in den nächsten Tagen und Wochen umsetzen möchten. Wie und wie oft Sie an ein Lernziel erinnert werden möchten, können Sie selbst wählen. Der Training Amplifier hilft Ihnen so Ihre gewünschen Lernziele in der Praxis anzuwenden.",
        "amplifier_button_next": "Weiter",
        "amplifier_setup_participantcode_headline": "Teilnehmercode",
        "amplifier_setup_participantcode_description": "Der Teilnehmercode besteht aus: dem Anfangsbuchstaben deines Geburtsortes,<br>deinem Geburtstag (zweistellig, wenn kleiner 10 dann mit führender Null),<br>dem Anfangsbuchstaben des Vornamens deines Vaters,<br>dem Anfangsbuchstaben des Vornamens deiner Mutter.<br><br>Ein Beispiel:<br>Der Teilnehmercode einer Person, geboren in Graz am zweiten Feber, deren Eltern Johann und Susanne heißen, ist:<br>'G' (für Graz) an erster Stelle,<br>'02' (für den zweiten Feber) an zweiter Stelle,<br>'J' (für Johann) an dritter Stelle,<br>'S' (für Susanne) an vierter Stelle.<br><br>Der Teilnehmercode der Person wäre: G02JS<br>",
        "amplifier_setup_participantcode_input_label": "Bitte hier deinen Participant Code eingeben",
        "reflective_question_fieldsets": "<fieldset class='' id='yui_3_17_2_1_1673866363469_87'><h3 class='fs-subtitle'>Your first reflection session</h3><div class='form-group text-left'><label class='col-form-label d-inline'>Think about the “Time Management” course your just finished and answer the questions below.</label></div><div class='amplifier-questiontext' id='yui_3_17_2_1_1673866363469_86'><p id='yui_3_17_2_1_1673866363469_85'>Was haben Sie in der Lehrveranstaltung 'Selbstorganisation, Zeitmanagement und Arbeitstechniken' gelernt? Welche Themenschwerpunkte wurden besprochen?</p></div><div class='amplifier-user-response'><textarea placeholder='My thoughts...' rows='5' data-topicid='2' data-goalid='4' class='col p-0 amplifier-user-response-input'></textarea></div><input type='button' name='next' class='next action-button reflective-question' value='Next'></fieldset>",
        "learning_goal_selection_fieldset": "<fieldset class='d-none'><h3 class='fs-subtitle'>Set Your Goals</h3><div class='form-group text-left'><label class='col-form-label d-inline '>Please select either pre-defined goals or define your own goals. You should not have more than 5 goals selected.</label></div><label class='text-left font-weight-bold mt-2'>Themenbereich 1</label><div class='form-group text-left'><div class='form-check text-left'><input class='form-check-input predefined-learning-goal-check' type='checkbox' value='' topicid='1' goalid='1'><label class='form-check-label font-weight-bold'>Lernziel 1</label></div></div><div class='form-group text-left'><div class='form-check text-left'><input class='form-check-input predefined-learning-goal-check' type='checkbox' value='' topicid='1' goalid='2'><label class='form-check-label font-weight-bold'>Lernziel 2</label></div></div><div class='form-group text-left'><div class='form-check text-left'><input class='form-check-input predefined-learning-goal-check' type='checkbox' value='' topicid='1' goalid='3'><label class='form-check-label font-weight-bold'>Lernziel 3</label></div></div><label class='text-left font-weight-bold mt-2'>Themenbereich 2</label><div class='form-group text-left'><div class='form-check text-left'><input class='form-check-input predefined-learning-goal-check' type='checkbox' value='' topicid='4' goalid='10'><label class='form-check-label font-weight-bold'>Lernziel 1</label></div></div><div class='form-group text-left'><div class='form-check text-left'><input class='form-check-input predefined-learning-goal-check' type='checkbox' value='' topicid='4' goalid='11'><label class='form-check-label font-weight-bold'>Lernziel 2</label></div></div><div class='form-group text-left'><div class='form-check text-left'><input class='form-check-input predefined-learning-goal-check' type='checkbox' value='' topicid='4' goalid='12'><label class='form-check-label font-weight-bold'>Lernziel 3</label></div></div><label class='text-left font-weight-bold mt-2'>Themenbereich 3</label><div class='form-group text-left'><div class='form-check text-left'><input class='form-check-input predefined-learning-goal-check' type='checkbox' value='' topicid='5' goalid='13'><label class='form-check-label font-weight-bold'>Lernziel 1</label></div></div><div class='form-group text-left'><div class='form-check text-left'><input class='form-check-input predefined-learning-goal-check' type='checkbox' value='' topicid='5' goalid='14'><label class='form-check-label font-weight-bold'>Lernziel 2</label></div></div><div class='form-group text-left'><div class='form-check text-left'><input class='form-check-input predefined-learning-goal-check' type='checkbox' value='' topicid='5' goalid='15'><label class='form-check-label font-weight-bold'>Lernziel 3</label></div></div><input type='button' name='next' class='next action-button learning-goals' value='Next' disabled='' style='opacity: .5'></fieldset>",
        "amplifier_setup_submit_headline": "Training Amplifier Setup",
        "amplifier_setup_submit_text_1": "Sie haben das Training Amplifier Setup erfolgreich abgeschlossen!",
        "amplifier_button_previous": "Zurück",
        "amplifier_button_submit": "Übernehmen",
        "courseId": "1",
        "courseModuleId": "1",
        "instanceId": "1",
        "userId": "1"
    }
}}
{{^amplifier_setup_finished}}
<div class="amplifier-setup">

    <!-- fieldsets -->
    <fieldset>

        <h3 class="fs-subtitle">{{{amplifier_welcome_headline}}}</h3>

        <div class="form-group text-left">
            <label class="col-form-label d-inline ">{{{amplifier_welcome_text_1}}}</label>
        </div>

        <div class="form-group text-left">
            <label class="col-form-label d-inline ">{{{amplifier_welcome_text_2}}}</label>
        </div>

        <div class="form-group text-left">
            <label class="col-form-label d-inline ">{{{amplifier_welcome_text_3}}}</label>
        </div>

        <!-- <input type="button" name="next" class="next action-button" value="{{{amplifier_button_next}}}"/> -->

        <div class="d-flex flex-row mb-3">
            <button type="button" class="btn btn-primary next action-button">{{{amplifier_button_next}}}</button>
        </div>

    </fieldset>

    <!-- Participant code -->
    <fieldset class="d-none">

        <h3 class="fs-subtitle">{{{amplifier_setup_participantcode_headline}}}</h3>

        <div class="form-group text-left">
            <label class="col-form-label d-inline ">{{{amplifier_setup_participantcode_description}}}</label>
        </div>

        <div class="form-group row fitem">
            <div class="col-md-6">
                <label class="col-form-label d-inline">{{{amplifier_setup_participantcode_input_label}}}</label>
            </div>
            <div class="col-md-6 form-inline felement" data-fieldtype="text">
                <input type="text" class="form-control participantcode-input " id="participantcode" value="" size="12" maxlength="100">
            </div>
        </div>

        <!-- <input type="button" name="next" class="next action-button participantcode" value="{{{amplifier_button_next}}}"/> -->

        <div class="d-flex flex-row mb-3">
            <button type="button" class="btn btn-primary next action-button participantcode " disabled style="opacity: .5">{{{amplifier_button_next}}}</button>
        </div>

    </fieldset>

    <!-- reflective questions - fieldsets -->
    {{{reflective_question_fieldsets}}}

    <!-- learing goal selection - fieldset -->
    {{{learning_goal_selection_fieldset}}}


    <fieldset class="d-none">
        <h3 class="fs-subtitle">{{{amplifier_setup_submit_headline}}}</h3>

        <div class="form-group text-left">
            <label class="col-form-label d-inline ">{{{amplifier_setup_submit_text_1}}}</label>
        </div>

        <div class="d-flex flex-row mb-3">
            <button type="submit" name="submit" type="button" class="btn btn-primary submit action-button amplifier-submit-setup">{{{amplifier_button_submit}}}</button>
        </div>

    </fieldset>

</div>


{{#js}}

        require(
        [
            'jquery',
            'mod_amplifier/amplifier-setup',
        ],
        function(
            $,
            AmplifierSetup
        ) {

            $(document).ready(function () {

                AmplifierSetup.init({{{courseId}}}, {{{courseModuleId}}}, {{{instanceId}}}, {{{userId}}});

            });

        });

{{/js}}
{{/amplifier_setup_finished}}
